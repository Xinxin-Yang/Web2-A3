<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Admin Dashboard</h1>
    <p>Manage your charity events and track performance</p>
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Loading dashboard data...</p>
  </div>

  <div *ngIf="!loading" class="dashboard-content">
    <!-- Statistics Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">ðŸŽª</div>
        <div class="stat-info">
          <h3>{{ stats.totalEvents }}</h3>
          <p>Total Events</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div class="stat-info">
          <h3>{{ stats.activeEvents }}</h3>
          <p>Active Events</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">ðŸ‘¥</div>
        <div class="stat-info">
          <h3>{{ stats.totalRegistrations }}</h3>
          <p>Total Registrations</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">ðŸ’°</div>
        <div class="stat-info">
          <h3>{{ formatCurrency(stats.totalRevenue) }}</h3>
          <p>Total Revenue</p>
        </div>
      </div>
    </div>

    <!-- Recent Events and Registrations -->
    <div class="content-grid">
      <!-- Recent Events -->
      <div class="content-card">
        <div class="card-header">
          <h3>Recent Events</h3>
          <button routerLink="/events" class="btn btn-primary">View All</button>
        </div>
        <div class="events-list">
          <div *ngFor="let event of events.slice(0, 5)" class="event-item">
            <div class="event-info">
              <h4>{{ event.name }}</h4>
              <p class="event-meta">
                {{ formatDate(event.date_time) }} â€¢ {{ event.location }}
              </p>
              <div class="event-stats">
                <span class="registrations">{{ event.registration_count }} registrations</span>
                <span class="revenue">{{ formatCurrency(event.current_amount) }} raised</span>
              </div>
            </div>
            <div class="event-progress">
              <div class="progress-bar">
                <div class="progress-fill" [style.width.%]="getProgressPercentage(event)"></div>
              </div>
              <span class="progress-text">{{ getProgressPercentage(event) }}%</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Registrations -->
      <div class="content-card">
        <div class="card-header">
          <h3>Recent Registrations</h3>
        </div>
        <div class="registrations-list">
          <div *ngFor="let registration of recentRegistrations" class="registration-item">
            <div class="registration-avatar">
              {{ registration.full_name.charAt(0) }}
            </div>
            <div class="registration-info">
              <h4>{{ registration.full_name }}</h4>
              <p>{{ registration.email }}</p>
              <div class="registration-details">
                <span>{{ registration.ticket_quantity }} ticket(s)</span>
                <span class="amount">{{ formatCurrency(registration.total_amount) }}</span>
              </div>
            </div>
            <div class="registration-date">
              {{ formatDate(registration.registration_date) }}
            </div>
          </div>
          
          <div *ngIf="recentRegistrations.length === 0" class="no-data">
            <p>No recent registrations</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <h3>Quick Actions</h3>
      <div class="actions-grid">
        <button routerLink="/events/new" class="action-btn primary">
          <span class="icon">âž•</span>
          <span>Create New Event</span>
        </button>
        <button routerLink="/events" class="action-btn secondary">
          <span class="icon">ðŸ“‹</span>
          <span>Manage Events</span>
        </button>
        <button class="action-btn secondary">
          <span class="icon">ðŸ“Š</span>
          <span>View Reports</span>
        </button>
      </div>
    </div>
  </div>
</div>